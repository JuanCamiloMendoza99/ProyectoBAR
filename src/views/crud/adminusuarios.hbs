<head>

    <title>Administrar Usuarios</title>

</head>

<div class="content content-page">
    <div class="container-fluid">
        {{!-- Titulo pagina --}}
        <div class="row">
            <div class="col-12">
                <div class="page-title-box">
                    <h4 class="page-title">Administración de Usuarios</h4>
                </div>
            </div>
        </div>
        {{!-- Fin Titulo pagina --}}

        {{!-- Formulario Front Negocios --}}
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        {{> message }}
                        <h4 class="header-title">Registrar Usuarios</h4>
                        {{!-- Modal Crud Registrar Usuarios--}}
                        <div class="button-list">
                            <button type="button" class="btn btn-info waves-effect waves-light" data-toggle="modal"
                                data-target="#crud_AdminUsuarios_registro"><i class="fas fa-plus"></i></button>
                            <br /><br />
                        </div>

                        <div class="modal fade" id="crud_AdminUsuarios_registro" tabindex="-1" role="dialog"
                            aria-labelledby="crud_AdminUsuarios_registroTitle" aria-hidden="true">
                            <div class="modal-dialog modal-lg modal-dialog-scrollable" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="crud_AdminUsuarios_registroTitle"><i
                                                class="fas fa-plus"></i> Registrar Usuarios</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <form action="/adminusuarios" method="POST">
                                            <div class="form-row">
                                                <div class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                    <label for="txtcargo" class="col-form-label">Cargo</label>
                                                    <input type="text" name="cargo" id="txtcargo"
                                                        class="form-control form-control-1" value="{{user.USU_ROL}}"
                                                        autocomplete="off" onchange="edito(this)" readonly>
                                                </div>
                                                <div class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                    <label for="txtresponsable_gestion"
                                                        class="col-form-label">Responsable Gestión</label>
                                                    <input type="text" name="responsable_gestion"
                                                        id="txtresponsable_gestion" class="form-control form-control-1"
                                                        value="{{user.USU_NOMBRES_APELLIDOS}}" autocomplete="off"
                                                        onchange="edito(this)" readonly>
                                                </div>

                                                <div class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                    <label for="txtdocumento_usuario"
                                                        class="col-form-label">Documento</label>
                                                    <input type="text" name="documento" id="txtdocumento_usuario"
                                                        class="form-control" data-toggle="tooltip"
                                                        data-placement="bottom" title="Cédula, PEP etc nuevo usuario"
                                                        placeholder="1056266895" onkeyup="mayus(this);"
                                                        autocomplete="off" onchange="edito(this)" onclick="cambio(this)"
                                                        required>
                                                </div>

                                                <div class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                    <label for="txtnombre_apellidos_usuario"
                                                        class="col-form-label">Nombres Apellidos</label>
                                                    <input type="text" name="nombres_apellidos"
                                                        id="txtnombre_apellidos_usuario" class="form-control"
                                                        data-toggle="tooltip" data-placement="bottom"
                                                        title="Nombres y apellidos nuevo usuario" onkeyup="mayus(this);"
                                                        placeholder="Pepito Perez" autocomplete="off"
                                                        onchange="edito(this)" onclick="cambio(this)" required
                                                        autofocus>
                                                </div>

                                                <div class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                    <label for="txtlogincms" class="col-form-label">Login CMS</label>
                                                    <input type="text" name="logincms" id="txtlogincms"
                                                        class="form-control" data-toggle="tooltip"
                                                        data-placement="bottom" title="Login CMS" placeholder="372126"
                                                        onkeypress="return solonumeros(event)" autocomplete="off"
                                                        onchange="edito(this)" onclick="cambio(this)" required>
                                                </div>

                                                <div class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                    <label for="txtusuario_red" class="col-form-label">Usuario</label>
                                                    <input type="text" name="usuario" id="txtusuario_red"
                                                        class="form-control" data-toggle="tooltip"
                                                        data-placement="bottom" title="Usuario red"
                                                        placeholder="ECF0343A" onkeyup="mayus(this);" autocomplete="off"
                                                        onchange="edito(this)" onclick="cambio(this)" required>
                                                </div>

                                                <div class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                    <label for="txtarea_gestion_usuario" class="col-form-label">Área
                                                        Gestión</label>
                                                    <input type="text" name="area_gestion" id="txtarea_gestion_usuario"
                                                        list="crud_areas_internas_gestion_Administrador" class="form-control"
                                                        data-toggle="tooltip" data-placement="bottom"
                                                        title="Área asignada" placeholder="Front" autocomplete="off"
                                                        onchange="edito(this)" onclick="cambio(this)" required>
                                                </div>

                                                <div class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                    <label for="txtrol_usuario" class="col-form-label">Rol</label>
                                                    <input type="text" name="rol" id="txtrol_usuario"
                                                        list="crud_rol_internos_Administrador" class="form-control"
                                                        data-toggle="tooltip" data-placement="bottom"
                                                        title="Rol asignado" placeholder="Negocios" autocomplete="off"
                                                        onchange="edito(this)" onclick="cambio(this)" required>
                                                </div>

                                                {{!-- <div class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                    <label for="txtaliado_usuario" class="col-form-label">Aliado</label>
                                                    <input type="text" name="aliado" id="txtaliado_usuario"
                                                        list="crud_Aliados_Claro_EyN" class="form-control"
                                                        data-toggle="tooltip" data-placement="bottom"
                                                        title="A que aliado pertenece usuario?"
                                                        placeholder="EYN - Soporte Negocios COS" autocomplete="off"
                                                        onchange="edito(this)" onclick="cambio(this)" required>
                                                </div> --}}

                                                <div class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                    <label for="txtestado_usuario" class="col-form-label">Estado</label>
                                                    <input type="text" name="estado_usuario" id="txtestado_usuario"
                                                        list="crud_Estado_Usuarios_CRMEYN" class="form-control"
                                                        data-toggle="tooltip" data-placement="bottom"
                                                        title="Estado Actual Usuario?" placeholder="Activo"
                                                        autocomplete="off" onchange="edito(this)" onclick="cambio(this)"
                                                        required>
                                                </div>
                                            </div>
                                            <center>
                                                <button type="submit" name="action"
                                                    class="btn btn-success btn-rounded waves-effect waves-light">
                                                    <span class="btn-label"><i class="fas fa-database"></i></span>Crear
                                                    Usuario
                                                </button>
                                            </center>
                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-dismiss="modal">Cerrar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {{!-- Fin Modal Crud Registrar Usuarios--}}

                        {{!-- Tabla Listar Usuarios --}}
                        <div class="table-responsive">
                            <table id="Reporte_Admin_Usuarios" class="table table-striped dt-responsive nowrap">
                                <thead>
                                    <tr>
                                        <th>
                                            <center>ID</center>
                                        </th>                                        
                                        <th>
                                            <center>EDITAR</center>
                                        </th>   
                                        <th>
                                            <center>FECHA REGISTRO</center>
                                        </th>                                      
                                        <th>
                                            <center>DOCUMENTO</center>
                                        </th>
                                        <th>
                                            <center>NOMBRES Y APELLIDOS</center>
                                        </th>                                        
                                        <th>
                                            <center>USUARIO RED</center>
                                        </th>  
                                        <th>
                                            <center>SEDE</center>
                                        </th>                                       
                                        <th>
                                            <center>ROL</center>
                                        </th>                                        
                                        <th>
                                            <center>ESTADO</center>
                                        </th>
                                        <th>
                                            <center>ÚLTIMA ACTUALIZACIÓN</center>
                                        </th>                                        
                                        <th>
                                            <center>RESPONSABLE</center>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {{#each users}}
                                    <tr>
                                        <td>{{USU_PK_ID}}</td>
                                        <td>
                                            {{!-- Modal Crud Actualizar Usuarios--}}
                                            <center><a><button type="button"
                                                        class="btn btn-primary waves-effect waves-light"
                                                        data-toggle="modal"
                                                        data-target="#crud_AdminUsuarios_actualizar_{{USU_PK_ID}}"><i
                                                            class="fas fa-edit"></i></button></a></center>
                                            {{!-- Modal Crud Actualizar Usuarios--}}
                                            <div class="modal fade"
                                                id="crud_AdminUsuarios_actualizar_{{USU_PK_ID}}" tabindex="-1"
                                                role="dialog" aria-labelledby="crud_AdminUsuarios_actualizarTitle"
                                                aria-hidden="true">
                                                <div class="modal-dialog modal-lg modal-dialog-scrollable"
                                                    role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title"
                                                                id="crud_AdminUsuarios_actualizarTitle"><i
                                                                    class="fas fa-edit"></i> Actualizar Usuarios</h5>
                                                            <button type="button" class="close" data-dismiss="modal"
                                                                aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <form action="/adminusuarios/{{USU_PK_ID}}"
                                                                method="POST">
                                                                <div class="form-row">

                                                                    <div
                                                                        class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                                        <label for="txtdocumento_usuario"
                                                                            class="col-form-label">Documento</label>
                                                                        <input type="text" name="documento"
                                                                            id="txtdocumento_usuario"
                                                                            class="form-control" data-toggle="tooltip"
                                                                            data-placement="bottom"
                                                                            title="Cédula, PEP etc nuevo usuario"
                                                                            placeholder="1056266895"
                                                                            onkeyup="mayus(this);"
                                                                            value="{{USU_DOCUMENTO}}"
                                                                            autocomplete="off" onchange="edito(this)"
                                                                            onclick="cambio(this)" required>
                                                                    </div>

                                                                    <div
                                                                        class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                                        <label for="txtnombre_apellidos_usuario"
                                                                            class="col-form-label">Nombres
                                                                            Apellidos</label>
                                                                        <input type="text" name="nombres_apellidos"
                                                                            id="txtnombre_apellidos_usuario"
                                                                            class="form-control" data-toggle="tooltip"
                                                                            data-placement="bottom"
                                                                            title="Nombres y apellidos nuevo usuario"
                                                                            placeholder="Pepito Perez"
                                                                            onkeyup="mayus(this);"
                                                                            value="{{USU_NOMBRES_APELLIDOS}}"
                                                                            autocomplete="off" onchange="edito(this)"
                                                                            onclick="cambio(this)" required autofocus>
                                                                    </div>

                                                                    <div
                                                                        class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                                        <label for="txtlogincms"
                                                                            class="col-form-label">Login CMS</label>
                                                                        <input type="text" name="logincms"
                                                                            id="txtlogincms" class="form-control"
                                                                            data-toggle="tooltip"
                                                                            data-placement="bottom" title="Login CMS"
                                                                            placeholder="372126"
                                                                            onkeypress="return solonumeros(event)"
                                                                            value="{{USU_LOGINCMS}}" autocomplete="off"
                                                                            onchange="edito(this)"
                                                                            onclick="cambio(this)" required>
                                                                    </div>

                                                                    <div
                                                                        class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                                        <label for="txtusuario_red"
                                                                            class="col-form-label">Usuario</label>
                                                                        <input type="text" name="usuario"
                                                                            id="txtusuario_red" class="form-control"
                                                                            data-toggle="tooltip"
                                                                            data-placement="bottom" title="Usuario red"
                                                                            placeholder="ECF0343A"
                                                                            onkeyup="mayus(this);"
                                                                            value="{{USU_USUARIO}}" autocomplete="off"
                                                                            onchange="edito(this)"
                                                                            onclick="cambio(this)" required>
                                                                    </div>

                                                                    <div
                                                                        class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                                        <label for="txtarea_gestion_usuario"
                                                                            class="col-form-label">Área Gestión</label>
                                                                        <input type="text" name="area_gestion"
                                                                            id="txtarea_gestion_usuario"
                                                                            list="crud_areas_internas_gestion"
                                                                            class="form-control" data-toggle="tooltip"
                                                                            data-placement="bottom"
                                                                            title="Área asignada"
                                                                            value="{{USU_ROL}}"
                                                                            placeholder="Front" autocomplete="off"
                                                                            onchange="edito(this)"
                                                                            onclick="cambio(this)" required>
                                                                    </div>

                                                                    <div
                                                                        class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                                        <label for="txtrol_usuario"
                                                                            class="col-form-label">Rol</label>
                                                                        <input type="text" name="rol"
                                                                            id="txtrol_usuario" list="crud_rol_internos"
                                                                            class="form-control" data-toggle="tooltip"
                                                                            data-placement="bottom" title="Rol asignado"
                                                                            value="{{USU_ROL}}" placeholder="Negocios"
                                                                            autocomplete="off" onchange="edito(this)"
                                                                            onclick="cambio(this)" required>
                                                                    </div>

                                                                    <div
                                                                        class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                                        <label for="txtaliado_usuario"
                                                                            class="col-form-label">Aliado</label>
                                                                        <input type="text" name="aliado"
                                                                            id="txtaliado_usuario"
                                                                            list="crud_Aliados_Claro_EyN"
                                                                            class="form-control" data-toggle="tooltip"
                                                                            data-placement="bottom"
                                                                            title="A que aliado pertenece usuario?"
                                                                            value="{{USU_ALIADO}}"
                                                                            placeholder="EYN - Soporte Negocios COS"
                                                                            autocomplete="off" onchange="edito(this)"
                                                                            onclick="cambio(this)" required>
                                                                    </div>

                                                                    <div
                                                                        class="form-group col-sm-6 col-md-6 col-lg-6 col-xl-6">
                                                                        <label for="txtestado_usuario"
                                                                            class="col-form-label">Estado</label>
                                                                        <input type="text" name="estado_usuario"
                                                                            id="txtestado_usuario"
                                                                            list="crud_Estado_Usuarios_CRMEYN"
                                                                            class="form-control" data-toggle="tooltip"
                                                                            data-placement="bottom"
                                                                            title="Estado Actual Usuario?"
                                                                            value="{{USU_ESTADO}}" placeholder="Activo"
                                                                            autocomplete="off" onchange="edito(this)"
                                                                            onclick="cambio(this)" required>
                                                                    </div>
                                                                </div>
                                                                <center>
                                                                    <button type="submit" name="action"
                                                                        class="btn btn-success btn-rounded waves-effect waves-light">
                                                                        <span class="btn-label"><i
                                                                                class="fas fa-database"></i></span>
                                                                        Actualizar Usuario
                                                                    </button>
                                                                </center>
                                                            </form>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary"
                                                                data-dismiss="modal">Cerrar</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            {{!-- Fin Modal Crud Actualizar Usuarios--}}
                                        </td>
                                        <td>{{USU_FECHA_REGISTRO}}</td>                                          
                                        <td>{{USU_DOCUMENTO}}</td>
                                        <td>{{USU_NOMBRES_APELLIDOS}}</td>                                        
                                        <td>{{USU_USUARIO}}</td>
                                        <td>{{USU_SEDE}}</td>                                        
                                        <td>{{USU_ROL}}</td>                                        
                                        <td>{{USU_ESTADO}}</td>
                                        <td>{{USU_FECHA_MODIFICACION}}</td>                                        
                                        <td>{{USU_RESPONSABLE_GESTION}}</td>
                                    </tr>
                                    {{/each}}
                                </tbody>
                            </table>
                        </div>
                        {{!-- Fin Tabla Listar Usuarios --}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="js/reporting/datatable_admin.js"></script>